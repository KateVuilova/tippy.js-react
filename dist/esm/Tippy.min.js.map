{"version":3,"file":"Tippy.min.js","sources":["../../src/Tippy.js"],"sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport PropTypes from 'prop-types'\nimport tippy from 'tippy.js'\n\n// Avoid Babel's large '_objectWithoutProperties' helper function\nconst getNativeTippyProps = props => {\n  const nativeProps = {}\n  for (const prop in props) {\n    if (prop !== 'children' && prop !== 'onCreate') {\n      nativeProps[prop] = props[prop]\n    }\n  }\n  return nativeProps\n}\n\nclass Tippy extends React.Component {\n  state = { isMounted: false }\n\n  container = typeof document !== 'undefined' && document.createElement('div')\n\n  static propTypes = {\n    content: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n      .isRequired,\n    children: PropTypes.element.isRequired,\n    onCreate: PropTypes.func\n  }\n\n  get isReactElementContent() {\n    return React.isValidElement(this.props.content)\n  }\n\n  get options() {\n    return {\n      ...getNativeTippyProps(this.props),\n      content: this.isReactElementContent ? this.container : this.props.content\n    }\n  }\n\n  componentDidMount() {\n    this.setState({ isMounted: true })\n    this.tip = tippy.one(ReactDOM.findDOMNode(this), this.options)\n    this.props.onCreate && this.props.onCreate(this.tip)\n  }\n\n  componentDidUpdate() {\n    this.tip.set(this.options)\n  }\n\n  componentWillUnmount() {\n    if (this.tip) {\n      this.tip.destroy()\n      this.tip = null\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.children}\n        {this.isReactElementContent &&\n          this.state.isMounted &&\n          ReactDOM.createPortal(this.props.content, this.container)}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default Tippy\n"],"names":["getNativeTippyProps","props","nativeProps","prop","Tippy","state","isMounted","container","document","createElement","setState","tip","tippy","one","ReactDOM","findDOMNode","options","onCreate","set","destroy","React","Fragment","children","isReactElementContent","createPortal","content","isValidElement","Component","propTypes","PropTypes","oneOfType","string","element","isRequired","func"],"mappings":"uhDAMMA,qBAAsB,SAAAC,CAAA,CAAS,IAC7BC,GAAc,OACf,GAAMC,KAAQF,GACJ,UAATE,MAAgC,UAATA,OACzBD,EAAYC,CAAZD,EAAoBD,EAAME,CAANF,SAGjBC,EAPT,EAUME,qOACJC,MAAQ,CAAEC,YAAF,IAERC,UAAgC,WAApB,QAAOC,SAAP,EAAmCA,SAASC,aAATD,CAAuB,KAAvBA,mFAoB3B,MACbE,SAAS,CAAEJ,YAAF,EADI,MAEbK,IAAMC,MAAMC,GAAND,CAAUE,SAASC,WAATD,CAAqB,IAArBA,CAAVF,CAAsC,KAAKI,OAA3CJ,CAFO,MAGbX,MAAMgB,UAAY,KAAKhB,KAAL,CAAWgB,QAAX,CAAoB,KAAKN,GAAzB,8CAGJ,MACdA,IAAIO,IAAI,KAAKF,uDAGG,CACjB,KAAKL,GADY,QAEdA,IAAIQ,SAFU,MAGdR,IAAM,IAHQ,kCAOd,OAELS,oBAAA,CAACA,MAAMC,QAAP,KAAA,CACG,KAAKpB,KAAL,CAAWqB,QADd,CAEG,KAAKC,qBAAL,EACC,KAAKlB,KAAL,CAAWC,SADZ,EAECQ,SAASU,YAATV,CAAsB,KAAKb,KAAL,CAAWwB,OAAjCX,CAA0C,KAAKP,SAA/CO,CAJJ,+CA9BwB,OACnBM,OAAMM,cAANN,CAAqB,KAAKnB,KAAL,CAAWwB,OAAhCL,iCAGK,oBAEPpB,oBAAoB,KAAKC,KAAzBD,GACHyB,QAAS,KAAKF,qBAAL,CAA6B,KAAKhB,SAAlC,CAA8C,KAAKN,KAAL,CAAWwB,iBAnBpDL,MAAMO,WAApBvB,MAKGwB,SALHxB,CAKe,CACjBqB,QAASI,UAAUC,SAAVD,CAAoB,CAACA,UAAUE,MAAX,CAAmBF,UAAUG,OAA7B,CAApBH,EACNI,UAFc,CAGjBX,SAAUO,UAAUG,OAAVH,CAAkBI,UAHX,CAIjBhB,SAAUY,UAAUK,IAJH"}