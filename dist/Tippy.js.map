{"version":3,"file":"Tippy.js","sources":["../src/Tippy.js"],"sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport PropTypes from 'prop-types'\nimport tippy from 'tippy.js'\n\n// Avoid Babel's large '_objectWithoutProperties' helper function\nconst getNativeTippyProps = props => {\n  const nativeProps = {}\n  for (const prop in props) {\n    if (prop !== 'children' && prop !== 'onCreate') {\n      nativeProps[prop] = props[prop]\n    }\n  }\n  return nativeProps\n}\n\nclass Tippy extends React.Component {\n  state = { isMounted: false }\n\n  container = typeof document !== 'undefined' && document.createElement('div')\n\n  static propTypes = {\n    content: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n      .isRequired,\n    children: PropTypes.element.isRequired,\n    onCreate: PropTypes.func\n  }\n\n  get isReactElementContent() {\n    return React.isValidElement(this.props.content)\n  }\n\n  get options() {\n    return {\n      ...getNativeTippyProps(this.props),\n      content: this.isReactElementContent ? this.container : this.props.content\n    }\n  }\n\n  componentDidMount() {\n    this.setState({ isMounted: true })\n    this.tip = tippy.one(ReactDOM.findDOMNode(this), this.options)\n    this.props.onCreate && this.props.onCreate(this.tip)\n  }\n\n  componentDidUpdate() {\n    this.tip.set(this.options)\n  }\n\n  componentWillUnmount() {\n    if (this.tip) {\n      this.tip.destroy()\n      this.tip = null\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.children}\n        {this.isReactElementContent &&\n          this.state.isMounted &&\n          ReactDOM.createPortal(this.props.content, this.container)}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default Tippy\n"],"names":["getNativeTippyProps","props","nativeProps","prop","Tippy","state","isMounted","container","document","createElement","setState","tip","tippy","one","ReactDOM","findDOMNode","options","onCreate","set","destroy","children","isReactElementContent","createPortal","content","React","isValidElement","Component","propTypes","PropTypes","oneOfType","string","element","isRequired","func"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAMA,IAAMA,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAC,KAAK,EAAI;EACnC,MAAMC,WAAW,GAAG,EAApB;;EACA,OAAK,IAAMC,IAAX,IAAmBF,KAAnB,EAA0B;EACxB,QAAIE,IAAI,KAAK,UAAT,IAAuBA,IAAI,KAAK,UAApC,EAAgD;EAC9CD,MAAAA,WAAW,CAACC,IAAD,CAAX,GAAoBF,KAAK,CAACE,IAAD,CAAzB;EACD;EACF;;EACD,SAAOD,WAAP;EACD,CARD;;MAUME;;;;;;;;;;;;;;;;;YACJC,QAAQ;EAAEC,MAAAA,SAAS,EAAE;EAAb;YAERC,YAAY,OAAOC,QAAP,KAAoB,WAApB,IAAmCA,QAAQ,CAACC,aAAT,CAAuB,KAAvB;;;;;;0CAoB3B;EAClB,WAAKC,QAAL,CAAc;EAAEJ,QAAAA,SAAS,EAAE;EAAb,OAAd;EACA,WAAKK,GAAL,GAAWC,KAAK,CAACC,GAAN,CAAUC,QAAQ,CAACC,WAAT,CAAqB,IAArB,CAAV,EAAsC,KAAKC,OAA3C,CAAX;EACA,WAAKf,KAAL,CAAWgB,QAAX,IAAuB,KAAKhB,KAAL,CAAWgB,QAAX,CAAoB,KAAKN,GAAzB,CAAvB;EACD;;;2CAEoB;EACnB,WAAKA,GAAL,CAASO,GAAT,CAAa,KAAKF,OAAlB;EACD;;;6CAEsB;EACrB,UAAI,KAAKL,GAAT,EAAc;EACZ,aAAKA,GAAL,CAASQ,OAAT;EACA,aAAKR,GAAL,GAAW,IAAX;EACD;EACF;;;+BAEQ;EACP,aACE,oBAAC,KAAD,CAAO,QAAP,QACG,KAAKV,KAAL,CAAWmB,QADd,EAEG,KAAKC,qBAAL,IACC,KAAKhB,KAAL,CAAWC,SADZ,IAECQ,QAAQ,CAACQ,YAAT,CAAsB,KAAKrB,KAAL,CAAWsB,OAAjC,EAA0C,KAAKhB,SAA/C,CAJJ,CADF;EAQD;;;0BArC2B;EAC1B,aAAOiB,KAAK,CAACC,cAAN,CAAqB,KAAKxB,KAAL,CAAWsB,OAAhC,CAAP;EACD;;;0BAEa;EACZ,0BACKvB,mBAAmB,CAAC,KAAKC,KAAN,CADxB;EAEEsB,QAAAA,OAAO,EAAE,KAAKF,qBAAL,GAA6B,KAAKd,SAAlC,GAA8C,KAAKN,KAAL,CAAWsB;EAFpE;EAID;;;;IArBiBC,KAAK,CAACE;;EAApBtB,MAKGuB,YAAY;EACjBJ,EAAAA,OAAO,EAAEK,SAAS,CAACC,SAAV,CAAoB,CAACD,SAAS,CAACE,MAAX,EAAmBF,SAAS,CAACG,OAA7B,CAApB,EACNC,UAFc;EAGjBZ,EAAAA,QAAQ,EAAEQ,SAAS,CAACG,OAAV,CAAkBC,UAHX;EAIjBf,EAAAA,QAAQ,EAAEW,SAAS,CAACK;EAJH;;;;;;;;"}